<VirtualHost *:443>
        ServerName gt-fende.inf.ufrgs.br
        ServerSignature Off

        SSLEngine on
        SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
        SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key

        DocumentRoot /var/www

	<Directory /var/www/sp>
		Options -Indexes -FollowSymLinks -MultiViews
		AllowOverride None
		Order deny,allow 
		Allow from all 
	</Directory>

	<Location /Shibboleth.sso>
	    SetHandler shib
	</Location>

	<Location /sp/secure>
		AuthType shibboleth
		ShibRequireSession On
		require valid-user
		Order allow,deny 
		allow from all 
	 </Location>

	<Location /login>
		AuthType shibboleth
		require shibboleth
	 </Location>
	ProxyPass /sp !
	ProxyPass /Shibboleth.sso !

        # Possible values include: debug, info, notice, warn, error, crit, 
        # alert, emerg. 
        LogLevel info
        ErrorLog /var/log/apache2/error.log
        CustomLog /var/log/apache2/sp-access-443.log combined

</VirtualHost>

